# Scrapper for pre-owned section of amiami.com

[![Build Status](https://travis-ci.com/CherryPerry/Amiami-kotlin-backend.svg?branch=master)](https://travis-ci.com/CherryPerry/Amiami-kotlin-backend)

This application is a web-server and scrapper for pre-owned section of [amiami.com](http://amiami.com)

Spring Boot is used as main framework. Data is stored in MongoDB.

## Routes
### /v1/data
Returns unsorted list of scrapped items

### /v1/currency
Returns currencies from [fixer.io](http://fixer.io/)

## Installation
You need the following to run server:

1. Oracle JRE 8
1. MongoDB on same host
1. Systemd
1. ```firebase.key``` from [Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging/) in `secure.properties`
1. ```fixer.key``` from [fixer.io](http://fixer.io/) in `secure.properties`

The application is installed as systemd service, executable generated by spring boot gradle plugin.
Start, stop and install can be done with gradle task: `startService`, `stopService` and `installService` are supported.

Repository version of ```firebase.key``` and ```fixer.key``` are encrypted in ```secure.properties.encrypted```, you can't use it.
